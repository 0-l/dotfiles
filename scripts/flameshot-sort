#!/usr/bin/env ruby

require 'fileutils'

# sorts images generated by flameshot with the format <yyyy-mm-dd_hh_mm.png> into folders <yyyy-mm>

files = Dir['./*'].filter { |f| !File.directory?(f) && f != $0 }

files.each do |file| 
  folder = File.basename(file)[/\d+{4}\-\d+{1,2}/]

  FileUtils.mkdir_p folder
  FileUtils.mv file, folder
end
